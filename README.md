# Asset Deduplication Plugin

Плагин для дедупликации ассетов в проектах Unreal Engine с настраиваемыми алгоритмами поиска дубликатов.

## Возможности

### Алгоритмы дедупликации

1. **EqualNameDeduplication** - Сравнение имен ассетов
   - Игнорирование регистра
   - Игнорирование расширений файлов
   - Игнорирование общих префиксов (SM_, T_, M_, BP_)

2. **EqualUassetDataDeduplication** - Анализ содержимого бинарных UAsset файлов
   - Сравнение байтового содержимого
   - Поиск общих подстрок
   - Анализ текстового содержимого
   - Настраиваемый порог схожести

### Система оценки

- Комбинированная оценка на основе нескольких алгоритмов
- Настраиваемые веса для каждого алгоритма
- Автоматическое определение необходимости ручной проверки
- Порог уверенности для автоматического разрешения

### Пользовательский интерфейс

- Интеграция с Content Browser
- Отображение результатов дедупликации
- Выделение папок с дубликатами желтым цветом
- Интерактивное разрешение конфликтов

### Система разрешения конфликтов

- Автоматическое обновление ссылок
- Резервное копирование перед удалением
- Различные стратегии разрешения:
  - Оставить первый/последний ассет
  - Оставить конкретный ассет
  - Удалить все дубликаты
  - Ручное разрешение

## Использование

1. Откройте плагин через меню **Tools > Asset Deduplication**
2. Настройте параметры алгоритмов дедупликации
3. Нажмите **Analyze Assets** для запуска анализа
4. Просмотрите найденные дубликаты в списке результатов
5. Выберите кластер дубликатов для детального просмотра
6. Используйте кнопку **Resolve** для автоматического разрешения или разрешите конфликты вручную

## Настройка

### Порог уверенности
Установите минимальный порог уверенности для отображения дубликатов (0.0 - 1.0).

### Алгоритмы дедупликации
- Включите/выключите отдельные алгоритмы
- Настройте веса для каждого алгоритма
- Настройте параметры каждого алгоритма

### Автоматическое разрешение
- Включите автоматическое разрешение для высокоуверенных дубликатов
- Установите порог для автоматического разрешения

## Архитектура

### Основные компоненты

1. **UDeduplicateObject** - Базовый класс для алгоритмов дедупликации
2. **UDeduplicationManager** - Менеджер координации алгоритмов
3. **UDuplicateResolutionManager** - Менеджер разрешения конфликтов
4. **SDeduplicationWidget** - Пользовательский интерфейс

### Структуры данных

- **FDuplicateGroup** - Группа дубликатов от одного алгоритма
- **FDuplicateCluster** - Финальный кластер дубликатов
- **FAssetDuplicateInfo** - Информация об ассете в контексте дубликатов
- **FResolutionResult** - Результат разрешения конфликта

## Расширение

Для добавления новых алгоритмов дедупликации:

1. Создайте класс, наследующий от `UDeduplicateObject`
2. Реализуйте методы `GetAlgorithmName()`, `GetAlgorithmDescription()` и `FindDuplicatesInternal()`
3. Добавьте алгоритм в `UDeduplicationManager`

Пример:
```cpp
UCLASS(BlueprintType, Blueprintable)
class UMyCustomDeduplication : public UDeduplicateObject
{
    GENERATED_BODY()

public:
    virtual FString GetAlgorithmName() const override
    {
        return TEXT("My Custom Algorithm");
    }

    virtual TArray<FDuplicateGroup> FindDuplicatesInternal(const TArray<FAssetData>& AssetsToAnalyze) override
    {
        // Ваша логика дедупликации
        return TArray<FDuplicateGroup>();
    }
};
```

## Требования

- Unreal Engine 4.26+
- Editor модули: UnrealEd, AssetTools, AssetRegistry, ContentBrowser

## Лицензия

Copyright Epic Games, Inc. All Rights Reserved.
